# Lab5:Function And Var 实验要求

## 实验开始前

请切换分支到`lab5`

## Part1 函数定义与调用
- 本次实验需要完成对函数定义与函数调用的翻译
    - 为降低实验难度，本次实验的函数定义的参数将不为数组，但调用时可能会有将数组某一个元素作为实参传入的情况

## Part2 局部变量
- 本次实验需要完成对局部变量的声明，定义，使用的翻译。
    - 除普通的int类型变量外还需要翻译常量与数组变量（我们保证测试用例中的数组变量不以`const`修饰）。
    - 为降低实验难度，其中数组将仅为一维数组
    - 变量也会参与表达式运算
    
- 说明：

    - 局部变量的使用包括了许多种情况，包括：局部变量被赋值、一个局部变量赋值给另一个局部变量、局部变量作为函数返回值、局部变量作为函数的实参传入等等，具体有哪些情况你应该通过`SysYParser.g4`了解

    - 对于`int`常量和数组常量，它们的处理与`int`变量和数组变量一致，也就是说它们可以被翻译成相同的`LLVM IR`。因为对于`const`的检查应该只发生于语义分析阶段（虽然我们没有定义关于`const`的错误）。

    - 对于数组变量和数组常量的初始化，有如下三种情况：

        - ```c
            int main(){
                int a[5] = {1,2,3,4,5};
                return a[0];
            }
            ```

            数组长度与初始值长度相同，直接初始化即可。

        - ```c
            int main(){
                int a[5] = {1,2,3,4};
                return a[0];
            }
            ```

            数组长度与初始值长度不相同，缺的初始值补`0`。

        - ```c
            int main(){
                int a[5];
                return a[0];
            }
            ```

            数组未给初始值列表，不需要进行初始化。（不考察此情况）。


## 实验帮助
点击[这里](lab5-function-and-var/help.md)查看实验五指导文档
